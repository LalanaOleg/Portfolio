"use strict";window.onload=function(){const e=document.querySelectorAll(".anim-items");if(e.length>0){let c=[];function r(){if(c.length>0)for(let e=0;e<c.length;e++){const t=c[e],n=t.offsetHeight,l=s(t).top,i=t.dataset.animStart??3;let a=window.innerHeight-n/i;function s(e){const t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,l=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+l,left:t.left+n}}n>window.innerHeight&&(a=window.innerHeight-window.innerHeight/i),pageYOffset>l-a&&pageYOffset<l+n&&(t.classList.add("visible"),c.splice(e,1))}}e.forEach((e=>{c.push(e)})),window.addEventListener("scroll",r),setTimeout((()=>{r()}),500)}function t(){let e=document.querySelectorAll(".ibg");for(var t=0;t<e.length;t++)e[t].querySelector("img")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}t();const n=document.querySelector("._burger");if(n){const d=document.querySelector(".header__menu");n.addEventListener("click",(e=>{document.body.classList.toggle("_lock"),d.classList.toggle("_active"),n.classList.toggle("_active")}))}const l=document.querySelectorAll(".lazyload > img[data-src]"),i=document.documentElement.clientHeight;let a=[];function s(){let e=a.findIndex((e=>pageYOffset>e-i));e>=0&&(l[e].dataset.src&&(l[e].src=l[e].dataset.src,l[e].removeAttribute("data-src")),delete a[e])}l.length>0&&l.forEach((e=>{(e.dataset.src||e.dataset.srcset)&&(a.push(e.getBoundingClientRect().top+pageYOffset),s(),t(),e.closest(".lazyload").classList.contains("lazyloadparent")||e.closest(".lazyload").classList.contains("lazyparent")||e.closest(".lazyload").parentElement.classList.add("lazyloadparent"))})),window.addEventListener("scroll",(function(){document.querySelectorAll(".lazyload > img[data-src]").length>0&&(s(),t())}));const o=document.querySelectorAll("[data-spoiler]");if(o)for(let g=0;g<o.length;g++){o[g].addEventListener("click",(function(e){e.target.classList.toggle("active"),e.target.nextElementSibling.classList.contains("active")?(e.target.nextElementSibling.classList.remove("active"),e.target.nextElementSibling.style.maxHeight=0):(e.target.nextElementSibling.classList.add("active"),e.target.nextElementSibling.style.maxHeight=e.target.nextElementSibling.scrollHeight+"px")}))}new Swiper(".swiper",{direction:"horizontal",pagination:{el:".swiper-pagination",clickable:!0},slidesPerView:"auto",watchOverflow:!0,spaceBetween:30,centeredSlides:!0,initialSlide:1})};